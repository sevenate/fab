<UserControl x:Class="Fab.Client.Authentication.LoginView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:Interactivity="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:Controls="clr-namespace:Fab.Client.Controls"
			 xmlns:Behaviors="clr-namespace:Fab.Client.Framework.Behaviors"
			 xmlns:Authentication="clr-namespace:Fab.Client.Authentication"
			 mc:Ignorable="d"
			 d:DataContext="{d:DesignData Source=./SampleData/LoginScreen.xaml}"
			 IsEnabled="{Binding IsBusy, Converter={StaticResource boolToNotBool}}"
			 TabNavigation="Cycle">
	<Grid Background="{StaticResource Brush_WindowBackground}">
		<Grid.RowDefinitions>
			<RowDefinition />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<StackPanel MinWidth="260"
					Margin="50, 10"
					HorizontalAlignment="Center"
					VerticalAlignment="Center">
			<Controls:WatermarkedTextbox Margin="0, 10, 0, 5"
										 TabIndex="0"
										 Text="{Binding Username, Mode=TwoWay}"
										 Watermark="Username">
				<Interactivity:Interaction.Behaviors>
					<Behaviors:DefaultButtonBehavior DefaultButton="{Binding ElementName=Login}" />
					<Behaviors:FocusBehavior HasInitialFocus="True" />
				</Interactivity:Interaction.Behaviors>
			</Controls:WatermarkedTextbox>
			<Controls:WatermarkedTextbox Margin="0, 5"
										 TabIndex="1"
										 Text="{Binding Password, Mode=TwoWay}"
										 Watermark="Password"
										 Visibility="{Binding ElementName=ShowCharacters, Path=IsChecked, Converter={StaticResource boolToVisibility}}">
				<Interactivity:Interaction.Behaviors>
					<Behaviors:DefaultButtonBehavior DefaultButton="{Binding ElementName=Login}" />
					<Behaviors:FocusBehavior IsFocused="{Binding UsernameIsFocused, Mode=TwoWay}" />
				</Interactivity:Interaction.Behaviors>
			</Controls:WatermarkedTextbox>
			<PasswordBox x:Name="PasswordHiden"
						 Margin="0, 5"
						 TabIndex="1"
						 Visibility="{Binding ElementName=ShowCharacters, Path=IsChecked, Converter={StaticResource boolToVisibilityInvert}}">
				<Interactivity:Interaction.Behaviors>
					<Behaviors:DefaultButtonBehavior DefaultButton="{Binding ElementName=Login}" />
					<Authentication:PasswordBindBehavior BoundPassword="{Binding Password, Mode=TwoWay}" />
				</Interactivity:Interaction.Behaviors>
			</PasswordBox>
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>
				<CheckBox x:Name="ShowCharacters"
						  IsChecked="{Binding ShowCharacters, Mode=TwoWay}"
						  Content="Show characters"
						  Margin="0, 10"
						  HorizontalAlignment="Left"
						  TabIndex="2">
					<Interactivity:Interaction.Behaviors>
						<Behaviors:DefaultButtonBehavior DefaultButton="{Binding ElementName=Login}" />
					</Interactivity:Interaction.Behaviors>
				</CheckBox>
				<CheckBox IsChecked="{Binding RememberMe, Mode=TwoWay}"
						  Grid.Column="1"
						  Content="Remember me"
						  Margin="0,10"
						  HorizontalAlignment="Right"
						  TabIndex="3">
					<Interactivity:Interaction.Behaviors>
						<Behaviors:DefaultButtonBehavior DefaultButton="{Binding ElementName=Login}" />
					</Interactivity:Interaction.Behaviors>
				</CheckBox>
			</Grid>
			<TextBlock Foreground="Red"
					   Text="{Binding Status}"
					   Opacity="{Binding ShowStatus, Converter={StaticResource boolToOpacity}}" />
			<Button x:Name="Login"
					Content="Sign in"
					MinWidth="75"
					Margin="0, 10"
					HorizontalAlignment="Center"
					TabIndex="4" />
		</StackPanel>
		<TextBlock x:Name="Copyright"
				   Grid.Row="1"
				   TextWrapping="Wrap"
				   HorizontalAlignment="Center"
				   VerticalAlignment="Bottom"
				   Foreground="#FF868686" />
	</Grid>
</UserControl>