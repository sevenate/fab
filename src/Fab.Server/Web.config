<?xml version="1.0" encoding="utf-8"?>

<configuration>
	<appSettings>
		<add key="DefaultServiceUrl" value="https://thor/StagingFab/MoneyService.svc" />
	</appSettings>
	<system.web>
		<compilation debug="true" targetFramework="4.0">
			<assemblies>
				<add assembly="System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
			</assemblies>
		</compilation>
		<pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID" />
	</system.web>
	<system.serviceModel>
		<protocolMapping>
			<clear />
			<add scheme="https" binding="basicHttpBinding" bindingConfiguration="BindingConfig" />
		</protocolMapping>
		<bindings>
			<basicHttpBinding>
				<binding name="BindingConfig">
					<security mode="TransportWithMessageCredential" />
				</binding>
			</basicHttpBinding>
			<!--
			<customBinding>
				<binding name="custBind">
					<binaryMessageEncoding></binaryMessageEncoding>
					<httpsTransport></httpsTransport>
				</binding>
			</customBinding>
			-->
		</bindings>
		<behaviors>
			<serviceBehaviors>
				<behavior>
					<!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
					<serviceMetadata httpGetEnabled="false" httpsGetEnabled="true" />
					<!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
					<serviceDebug httpHelpPageEnabled="false" includeExceptionDetailInFaults="true" />
					<serviceCredentials>
						<userNameAuthentication userNamePasswordValidationMode="Custom"
						                        customUserNamePasswordValidatorType="Fab.Server.CustomUserNameValidator, Fab.Server" />
					</serviceCredentials>
				</behavior>
			</serviceBehaviors>
		</behaviors>
		<services>
			<service name="UserService">
				<endpoint name="UserServiceBasic" address="" binding="basicHttpBinding" bindingConfiguration="BindingConfig"
				          contract="Fab.Server.Core.IUserService" />
			</service>
			<service name="MoneyService">
				<endpoint name="MoneyServiceBasic" address="" binding="basicHttpBinding" bindingConfiguration="BindingConfig"
				          contract="Fab.Server.Core.IMoneyService" />
			</service>
		</services>
		<serviceHostingEnvironment aspNetCompatibilityEnabled="false" multipleSiteBindingsEnabled="true">
			<serviceActivations>
				<clear />
				<add relativeAddress="UserService.svc" service="Fab.Server.UserService" />
				<add relativeAddress="MoneyService.svc" service="Fab.Server.MoneyService" />
				<add relativeAddress="AdminService.svc" service="Fab.Server.AdminService" />
			</serviceActivations>
		</serviceHostingEnvironment>
	</system.serviceModel>
	<system.webServer>
		<modules runAllManagedModulesForAllRequests="true" />
	</system.webServer>
	<system.codedom />
	<connectionStrings>
		<add name="ModelContainer"
		     connectionString="metadata=res://*/Core.Model.csdl|res://*/Core.Model.ssdl|res://*/Core.Model.msl;provider=System.Data.SqlServerCe.4.0;provider connection string=&quot;Data Source=|DataDirectory|\personal.sdf;&quot;"
		     providerName="System.Data.EntityClient" />
		<add name="MasterEntities"
		     connectionString="metadata=res://*/Core.Master.csdl|res://*/Core.Master.ssdl|res://*/Core.Master.msl;provider=System.Data.SqlServerCe.4.0;provider connection string=&quot;Data Source=|DataDirectory|\master.sdf;&quot;"
		     providerName="System.Data.EntityClient" />
	</connectionStrings>
	<system.data>
		<DbProviderFactories>
			<remove invariant="System.Data.SqlServerCe.4.0" />
			<add name="Microsoft SQL Server Compact Edition Client Data Provider 4.0" invariant="System.Data.SqlServerCe.4.0"
			     description=".NET Framework Data Provider for Microsoft SQL Server Compact Edition Client 4.0"
			     type="System.Data.SqlServerCe.SqlCeProviderFactory, System.Data.SqlServerCe, Version=4.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" />
		</DbProviderFactories>
	</system.data>
</configuration>